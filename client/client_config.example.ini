[client]
server_ip=127.0.0.1
server_port=9000
use_tls=1
require_tls=1
trust_store=server_trust.ini
require_pinned_fingerprint=1
# sha256(cert_der) hex, 64 chars (pin required; hybrid optional)
pinned_fingerprint=
tls_verify_mode=pin  # pin|ca|hybrid
tls_ca_bundle_path=  # ca/hybrid optional, empty uses system/default CA
tls_verify_hostname=1
auth_mode=opaque  # opaque|legacy
allow_legacy_login=0

[proxy]
type=none  # none|socks5
host=
port=0
username=
password=

[device_sync]
enabled=0
role=primary
key_path=e2ee_state/device_sync_key.bin
rotate_interval_sec=86400
rotate_message_limit=2048
ratchet_enable=1
ratchet_max_skip=2048

[identity]
rotation_days=90
legacy_retention_days=180
tpm_enable=1
tpm_require=0

[traffic]
cover_traffic_mode=auto  # auto|on|off
cover_traffic_interval_sec=30

[performance]
# ml-kem keypair precompute pool size (0=disable)
pqc_precompute_pool=4

[kt]
require_signature=1
gossip_alert_threshold=3
# ml-dsa public key hex (1952 bytes -> 3904 hex chars) or file path
root_pubkey_hex=
root_pubkey_path=kt_root_pub.bin

[kcp]
enable=0
server_port=0  # 0=use server_port
mtu=1400
snd_wnd=256
rcv_wnd=256
nodelay=1
interval=10
resend=2
nc=1
min_rto=30
request_timeout_ms=5000
session_idle_sec=60

[media]
audio_delay_ms=60
video_delay_ms=120
audio_max_frames=256
video_max_frames=256
pull_max_packets=32
pull_wait_ms=0
group_pull_max_packets=64
group_pull_wait_ms=0
